(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-openlogin"],{"16c7":function(t,e,i){"use strict";i.r(e);var s=i("e9fa"),o=i("a99c");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("f8ce");var a,r=i("f0c5"),l=Object(r["a"])(o["default"],s["b"],s["c"],!1,null,"32a04423",null,!1,s["a"],a);e["default"]=l.exports},"54b5":function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.p-30-75[data-v-32a04423]{padding:%?30?% %?75?%}.p-0-75[data-v-32a04423]{padding:0 %?75?%}.t-r[data-v-32a04423]{text-align:right}.login-container[data-v-32a04423]{background:#fff}.login-container uni-input[data-v-32a04423]{height:%?88?%;line-height:%?88?%}.wechatapp[data-v-32a04423]{padding:%?80?% 0 %?48?%;border-bottom:%?1?% solid #e3e3e3;margin-bottom:%?72?%;text-align:center}.wechatapp .header[data-v-32a04423]{width:%?190?%;height:%?190?%;border:2px solid #fff;margin:%?0?% auto 0;border-radius:50%;overflow:hidden;box-shadow:1px 0 5px rgba(50,50,50,.3)}.auth-title[data-v-32a04423]{color:#585858;font-size:%?34?%;margin-bottom:%?40?%}.auth-subtitle[data-v-32a04423]{color:#888;margin-bottom:%?88?%;font-size:%?28?%}.login-btn[data-v-32a04423]{padding:0 %?20?%}.login-btn uni-button[data-v-32a04423]{height:%?88?%;line-height:%?88?%;background:#04be01;color:#fff;font-size:%?30?%;border-radius:%?999?%;text-align:center}.no-login-btn[data-v-32a04423]{margin-top:%?20?%;padding:0 %?20?%}.no-login-btn uni-button[data-v-32a04423]{height:%?88?%;line-height:%?88?%;background:#dfdfdf;color:#fff;font-size:%?30?%;border-radius:%?999?%;text-align:center}.get-code-btn[data-v-32a04423]{width:%?200?%;height:%?80?%;line-height:%?76?%;padding:%?0?% %?30?%;border-radius:%?40?%;white-space:nowrap;background-color:#fff;color:#e2231a;font-size:%?30?%}.get-code-btn[disabled="true"][data-v-32a04423]{background-color:#fff}.btns uni-button[data-v-32a04423]{height:%?90?%;line-height:%?90?%;font-size:%?34?%;border-radius:%?45?%;background:#e2231a;color:#fff}.login_topbpx[data-v-32a04423]{padding:%?181?% 0;padding-bottom:%?110?%}.login_tit[data-v-32a04423]{font-size:%?52?%;font-weight:600;margin-bottom:%?33?%}.login_top[data-v-32a04423]{font-size:%?24?%;color:#adafb3}.input_botom[data-v-32a04423]{border-bottom:1px solid #f4f4f4}.bottom_nav[data-v-32a04423]{width:100%;position:absolute;bottom:%?100?%}.bottom-box[data-v-32a04423]{width:70%;margin:0 auto}.other_tit[data-v-32a04423]{height:%?1?%;background-color:#cacaca;width:100%;line-height:%?1?%;text-align:center}.weixin_box[data-v-32a04423]{background-color:#04be01;border-radius:50%;width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center}.weixin_box .icon-weixin[data-v-32a04423]{font-size:%?40?%;color:#fff}',""]),t.exports=e},a99c:function(t,e,i){"use strict";i.r(e);var s=i("de2c"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=o.a},d312:function(t,e,i){var s=i("54b5");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=i("4f06").default;o("4a555cc2",s,!0,{sourceMap:!1,shadowMode:!1})},de2c:function(t,e,i){"use strict";i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{formData:{mobile:"",code:""},loging_password:"",register:{mobile:"",password:"",repassword:"",code:""},resetpassword:{mobile:"",password:"",repassword:"",code:""},is_send:!1,send_btn_txt:"获取验证码",second:60,ip:"",isShow:!0,is_login:1,is_code:!1,phoneHeight:0}},onShow:function(){this.init()},methods:{init:function(){var t=this;uni.getSystemInfo({success:function(e){t.phoneHeight=e.windowHeight}})},formSubmit:function(){var t=this,e={mobile:t.formData.mobile},i="";if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.formData.mobile))return console.log(t.formData.mobile),void uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"});if(t.is_code){if(console.log(t.is_code),""==t.formData.code)return void uni.showToast({title:"验证码不能为空！",duration:2e3,icon:"none"});e.code=t.formData.code,i="user.useropen/smslogin"}else{if(""==t.loging_password)return void uni.showToast({title:"密码不能为空！",duration:2e3,icon:"none"});e.password=t.loging_password,i="user.useropen/phonelogin"}uni.showLoading({title:"正在提交"}),t._post(i,e,(function(e){uni.setStorageSync("token",e.data.token),uni.setStorageSync("user_id",e.data.user_id);var i=uni.getStorageSync("currentPage"),s=uni.getStorageSync("currentPageOptions");if(Object.keys(s).length>0){for(var o in i+="?",s)i+=o+"="+s[o]+"&";i=i.substring(0,i.length-1)}t.gotoPage(i)}),!1,(function(){uni.hideLoading()}))},registerSub:function(){var t=this;if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.register.mobile))return console.log(t.register.mobile),void uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"});""!=t.register.code?t.register.password.length<6?uni.showToast({title:"密码至少6位数！",duration:2e3,icon:"none"}):t.register.password===t.register.repassword?(t.register.invitation_id=uni.getStorageSync("invitation_id")?uni.getStorageSync("invitation_id"):0,t.register.reg_source="app",t.register.referee_id=uni.getStorageSync("referee_id"),uni.showLoading({title:"正在提交"}),t._post("user.useropen/register",t.register,(function(e){uni.showToast({title:"注册成功",duration:3e3}),t.formData.mobile=t.register.mobile,t.register={mobile:"",password:"",repassword:"",code:""},t.second=0,t.changeMsg(),t.is_login=1}),!1,(function(){uni.hideLoading()}))):uni.showToast({title:"两次密码输入不一致！",duration:2e3,icon:"none"}):uni.showToast({title:"验证码不能为空！",duration:2e3,icon:"none"})},resetpasswordSub:function(){var t=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.resetpassword.mobile)?""!=t.resetpassword.code?t.resetpassword.password.length<6?uni.showToast({title:"密码至少6位数！",duration:2e3,icon:"none"}):t.resetpassword.password===t.resetpassword.repassword?(uni.showLoading({title:"正在提交"}),t._post("user.useropen/resetpassword",t.resetpassword,(function(e){uni.showToast({title:"重置成功",duration:3e3}),t.formData.mobile=t.resetpassword.mobile,t.resetpassword={mobile:"",password:"",repassword:"",code:""},t.second=0,t.changeMsg(),t.is_login=1}),!1,(function(){uni.hideLoading()}))):uni.showToast({title:"两次密码输入不一致！",duration:2e3,icon:"none"}):uni.showToast({title:"验证码不能为空！",duration:2e3,icon:"none"}):uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"})},isCode:function(){this.is_code?this.$set(this,"is_code",!1):this.$set(this,"is_code",!0),console.log(this.is_code)},sendCode:function(){var t=this;if(1==t.is_login){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.formData.mobile))return void uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"})}else if(2==t.is_login){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.register.mobile))return void uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"})}else if(0==t.is_login&&!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t.resetpassword.mobile))return void uni.showToast({title:"手机有误,请重填！",duration:2e3,icon:"none"});var e="register",i=t.register.mobile;1==t.is_login?(e="login",i=t.formData.mobile):0==t.is_login&&(e="login",i=t.resetpassword.mobile),t._post("user.useropen/sendCode",{mobile:i,type:e},(function(e){1==e.code&&(uni.showToast({title:"发送成功"}),t.is_send=!0,t.changeMsg())}))},login:function(){var t=this;plus.oauth.getServices((function(e){var i=e[0];i.authResult?console.log("已经登陆认证"):i.authorize((function(e){uni.showLoading({title:"登录中",mask:!0}),t._post("user.useropen/login",{code:e.code,source:"app"},(function(e){uni.setStorageSync("token",e.data.token),uni.setStorageSync("user_id",e.data.user_id);var i=uni.getStorageSync("currentPage"),s=uni.getStorageSync("currentPageOptions");if(Object.keys(s).length>0){for(var o in i+="?",s)i+=o+"="+s[o]+"&";i=i.substring(0,i.length-1)}t.gotoPage(i)}),!1,(function(){uni.hideLoading()}))}),(function(t){console.log("登陆认证失败!"),uni.showModal({title:"认证失败1",content:JSON.stringify(t)})}))}),(function(t){console.log("获取服务列表失败："+JSON.stringify(t))}))},changeMsg:function(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="获取验证码",this.second=60,this.is_send=!1)}}};e.default=s},e9fa:function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"login-container",style:"height: "+t.phoneHeight+"px;"},[2==t.is_login?i("v-uni-view",{staticClass:"p-30-75"},[i("v-uni-view",{staticClass:"login_topbpx"},[i("v-uni-view",{staticClass:"login_tit"},[t._v("注册")]),i("v-uni-view",{staticClass:"login_top"},[t._v("已有账户，"),i("v-uni-text",{staticClass:"red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.is_login=1}}},[t._v("立即登录")])],1)],1),i("v-uni-view",{staticClass:"group-bd"},[i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写手机号",disabled:t.is_send},model:{value:t.register.mobile,callback:function(e){t.$set(t.register,"mobile",e)},expression:"register.mobile"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"请输入密码"},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"请确认密码"},model:{value:t.register.repassword,callback:function(e){t.$set(t.register,"repassword",e)},expression:"register.repassword"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 d-b-c input_botom"},[i("v-uni-input",{staticClass:"flex-1",attrs:{type:"number",placeholder:"请填写验证码"},model:{value:t.register.code,callback:function(e){t.$set(t.register,"code",e)},expression:"register.code"}}),i("v-uni-button",{staticClass:"get-code-btn",attrs:{type:"default",disabled:t.is_send},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(t.send_btn_txt))])],1)],1)],1)],1):t._e(),1==t.is_login?i("v-uni-view",{staticClass:"p-30-75"},[i("v-uni-view",{staticClass:"login_topbpx"},[i("v-uni-view",{staticClass:"login_tit"},[t._v("登录")]),i("v-uni-view",{staticClass:"login_top"},[t._v("还没有账号，"),i("v-uni-text",{staticClass:"red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.is_login=2}}},[t._v("立即注册")])],1)],1),i("v-uni-view",{staticClass:"group-bd"},[i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写手机号"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1)],1),t.is_code?t._e():i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"请输入密码"},model:{value:t.loging_password,callback:function(e){t.loging_password=e},expression:"loging_password"}})],1)],1),t.is_code?i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 d-b-c input_botom"},[i("v-uni-input",{staticClass:"flex-1",attrs:{type:"number",placeholder:"请填写验证码"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("v-uni-button",{staticClass:"get-code-btn",attrs:{type:"default",disabled:t.is_send},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(t.send_btn_txt))])],1)],1):t._e()],1)],1):t._e(),0==t.is_login?i("v-uni-view",{staticClass:"p-30-75"},[i("v-uni-view",{staticClass:"login_topbpx"},[i("v-uni-view",{staticClass:"login_tit"},[t._v("重置密码")]),i("v-uni-view",{staticClass:"login_top"},[i("v-uni-text",{staticClass:"red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.is_login=1}}},[t._v("立即登录")])],1)],1),i("v-uni-view",{staticClass:"group-bd"},[i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请填写手机号",disabled:t.is_send},model:{value:t.resetpassword.mobile,callback:function(e){t.$set(t.resetpassword,"mobile",e)},expression:"resetpassword.mobile"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"请输入密码"},model:{value:t.resetpassword.password,callback:function(e){t.$set(t.resetpassword,"password",e)},expression:"resetpassword.password"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 input_botom"},[i("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"请确认密码"},model:{value:t.resetpassword.repassword,callback:function(e){t.$set(t.resetpassword,"repassword",e)},expression:"resetpassword.repassword"}})],1)],1),i("v-uni-view",{staticClass:"form-level d-s-c"},[i("v-uni-view",{staticClass:"val flex-1 d-b-c input_botom"},[i("v-uni-input",{staticClass:"flex-1",attrs:{type:"number",placeholder:"请填写验证码"},model:{value:t.resetpassword.code,callback:function(e){t.$set(t.resetpassword,"code",e)},expression:"resetpassword.code"}}),i("v-uni-button",{staticClass:"get-code-btn",attrs:{type:"default",disabled:t.is_send},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(t.send_btn_txt))])],1)],1)],1)],1):t._e(),1==t.is_login?i("v-uni-view",{staticClass:" gray6 p-0-75",class:t.is_code?"d-e-c":"d-b-c"},[t.is_code?t._e():i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.is_login=0}}},[t._v("忘记密码?")]),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isCode()}}},[t._v(t._s(t.is_code?"使用密码登录":"使用验证码登录"))])],1):t._e(),2==t.is_login?i("v-uni-view",{staticClass:"btns p-30-75",staticStyle:{"padding-top":"80rpx"}},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.registerSub.apply(void 0,arguments)}}},[t._v("注册")])],1):t._e(),1==t.is_login?i("v-uni-view",{staticClass:"btns p-30-75",staticStyle:{"padding-top":"80rpx"}},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[t._v("登录")])],1):t._e(),0==t.is_login?i("v-uni-view",{staticClass:"btns p-30-75",staticStyle:{"padding-top":"80rpx"}},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetpasswordSub.apply(void 0,arguments)}}},[t._v("重置密码")])],1):t._e(),1==t.is_login?i("v-uni-view",{staticClass:"bottom_nav"},[i("v-uni-view",{staticClass:"bottom-box"},[i("v-uni-view",{staticClass:"other_tit"},[i("v-uni-text",{staticClass:"bg-white p-0-20"},[t._v("其他方式登录")])],1),i("v-uni-view",{staticClass:"pt30 d-c-c"},[i("v-uni-view",{staticClass:"weixin_box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"icon iconfont icon-weixin"})],1)],1)],1)],1):t._e()],1)},n=[]},f8ce:function(t,e,i){"use strict";var s=i("d312"),o=i.n(s);o.a}}]);