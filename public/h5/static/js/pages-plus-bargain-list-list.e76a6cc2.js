(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plus-bargain-list-list"],{"0730":function(t,a,i){"use strict";i("e25e"),i("ac1f"),i("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"活动剩余："}},props:{config:{type:Object,default:function(){return{type:"all"}}},back_color:{type:String,default:function(){return{type:"all"}}},cut_color:{type:String,default:function(){return{type:"all"}}},color:{type:String,default:function(){return{type:"all"}}}},created:function(){},watch:{config:{deep:!0,handler:function(t,a){t!=a&&0!=t.endstamp&&(t.title&&"undefined"!=typeof t.title&&(this.title=t.title),this.setTime())},immediate:!0}},methods:{setTime:function(){var t=this;t.timer=setInterval((function(){t.init()}),1e3)},init:function(){var t=Date.now()/1e3;t<this.config.startstamp?this.status=1:t>this.config.endstamp?this.status=2:(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.countDown()),this.$emit("returnVal",this.status)},countDown:function(){var t=this.totalSeconds,a=Math.floor(t/86400),i=t%86400,n=Math.floor(i/3600);i%=3600;var e=Math.floor(i/60),r=i%60;this.day=this.convertTwo(a),this.hour=this.convertTwo(n),this.minute=this.convertTwo(e),this.second=this.convertTwo(r),this.totalSeconds--},convertTwo:function(t){var a="";return a=t<10?"0"+t:t,a},getLocalTime:function(t){return new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," ")},clear:function(){console.log(1),clearInterval(this.timer),this.timer=null}},destroyed:function(){clearInterval(this.timer)}};a.default=n},1121:function(t,a,i){"use strict";i.r(a);var n=i("8eb4"),e=i("9697");for(var r in e)"default"!==r&&function(t){i.d(a,t,(function(){return e[t]}))}(r);i("6066");var o,c=i("f0c5"),s=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"4c13673a",null,!1,n["a"],o);a["default"]=s.exports},"1be2":function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-4c13673a]{background:#f2f2f2}.bargain-container .inner-tab[data-v-4c13673a]{background:#fff}.bargain-container .inner-tab .tab-list[data-v-4c13673a]{height:%?100?%;display:flex;justify-content:flex-start;align-items:center;background:#fff}.bargain-container .inner-tab .item[data-v-4c13673a]{height:%?100?%;line-height:%?100?%;white-space:nowrap;padding:0 %?30?%;font-size:%?30?%;color:#333}.bargain-container .inner-tab .item.active[data-v-4c13673a],\r\n.bargain-container .inner-tab .item .arrow.active .iconfont[data-v-4c13673a]{background:#fff;font-size:%?32?%;color:#f6220c;position:relative}.bargain-container .inner-tab .item.active[data-v-4c13673a]::after{content:"";width:60%;height:%?4?%;background:#f6220c;border-radius:%?2?%;position:absolute;bottom:%?17?%;left:0;right:0;margin:auto}.bargain-container .inner-tab .box[data-v-4c13673a]{display:flex;justify-content:center;align-items:center;flex-direction:row}.bargain-container .inner-tab .arrows[data-v-4c13673a]{margin-left:%?10?%;line-height:0}.bargain-container .inner-tab .iconfont[data-v-4c13673a]{line-height:%?24?%;font-size:%?24?%}.bargain-container .inner-tab .arrow[data-v-4c13673a],\r\n.bargain-container .inner-tab .svg-icon[data-v-4c13673a]{width:%?20?%;height:%?20?%}.bargain-container .banner-image[data-v-4c13673a]{width:100%;box-sizing:border-box}.bargain-container .banner-image uni-image[data-v-4c13673a]{width:%?750?%;height:%?365?%}.bargain-container .ad-datetime[data-v-4c13673a] uni-text{color:#333;font-size:%?28?%}.bargain-container .ad-datetime[data-v-4c13673a] .box{padding:%?4?%;border-radius:%?4?%;background:#f6220c;color:#fff}.bargain-list .list[data-v-4c13673a]{padding:%?20?%}.bargain-list .list .item[data-v-4c13673a]{width:100%;padding:%?30?%;margin-bottom:%?20?%;box-sizing:border-box;border-radius:%?16?%;background:#fff}.bargain-list .product-cover[data-v-4c13673a]{padding:%?4?%}.bargain-list .product-cover uni-image[data-v-4c13673a]{width:%?200?%;height:%?200?%;border-radius:%?12?%}.bargain-list .product-info[data-v-4c13673a]{flex:1;padding-left:%?20?%;overflow:hidden}.bargain-list .product-cover .people-num[data-v-4c13673a]{position:absolute;right:0;bottom:0;left:0;height:%?50?%;padding:0 %?20?%;line-height:%?50?%;font-size:%?24?%;box-sizing:border-box;background:rgba(0,0,0,.6)}.bargain-list .ad-datetime .box[data-v-4c13673a]{padding:%?4?%;border-radius:%?4?%;background:#000;color:#fff}.bargain-list .product-title[data-v-4c13673a]{width:100%;height:%?40?%;line-height:%?40?%;font-size:%?26?%;color:#333}.bargain-list .people-num[data-v-4c13673a]{width:100%}.bargain-list .already-sale[data-v-4c13673a]{padding:%?4?% 0;color:#999;font-size:%?24?%}.bargain-list .price[data-v-4c13673a]{width:100%;color:#e2231a;font-size:%?24?%}.bargain-list .price .num[data-v-4c13673a]{padding:0 %?4?%}.bargain-list .slider-box .slider[data-v-4c13673a]{margin-top:%?10?%;height:%?10?%;background:#ccc;border-radius:%?5?%}.bargain-list .slider-box .slider-inner[data-v-4c13673a]{height:%?10?%;background:#e2231a;border-radius:%?5?%}.bargain-list .right-btn uni-button[data-v-4c13673a]{height:%?60?%;line-height:%?60?%;border-radius:%?30?%;background:#8d60ff;color:#fff;font-size:%?32?%}body.?%PAGE?%[data-v-4c13673a]{background:#f2f2f2}',""]),t.exports=a},2683:function(t,a,i){"use strict";i.r(a);var n=i("8810"),e=i("39fa");for(var r in e)"default"!==r&&function(t){i.d(a,t,(function(){return e[t]}))}(r);i("276a");var o,c=i("f0c5"),s=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"55e69141",null,!1,n["a"],o);a["default"]=s.exports},"276a":function(t,a,i){"use strict";var n=i("ac52"),e=i.n(n);e.a},"39fa":function(t,a,i){"use strict";i.r(a);var n=i("0730"),e=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(a,t,(function(){return n[t]}))}(r);a["default"]=e.a},6066:function(t,a,i){"use strict";var n=i("69e6"),e=i.n(n);e.a},"69e6":function(t,a,i){var n=i("1be2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("aa488e44",n,!0,{sourceMap:!1,shadowMode:!1})},8810:function(t,a,i){"use strict";var n;i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return r})),i.d(a,"a",(function(){return n}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"countdown"},[null==t.config.type?[0==t.status?i("v-uni-text",[t._v(t._s(t.title))]):t._e(),1==t.status?i("v-uni-text",[t._v("活动具体时间：")]):t._e(),2==t.status?i("v-uni-text",[t._v("活动结束时间：")]):t._e(),i("v-uni-text",{staticClass:"box",style:"background-color: "+t.back_color+";color:"+t.cut_color},[t._v(t._s(t.day))]),i("v-uni-text",{staticClass:"p-0-10",style:"color:"+t.color},[t._v("天")]),i("v-uni-text",{staticClass:"box",style:"background-color: "+t.back_color+";color:"+t.cut_color},[t._v(t._s(t.hour))]),i("v-uni-text",{staticClass:"p-0-10",style:"color:"+t.color},[t._v(":")]),i("v-uni-text",{staticClass:"box",style:"background-color: "+t.back_color+";color:"+t.cut_color},[t._v(t._s(t.minute))]),i("v-uni-text",{staticClass:"p-0-10",style:"color:"+t.color},[t._v(":")]),i("v-uni-text",{staticClass:"box",style:"background-color: "+t.back_color+";color:"+t.cut_color},[t._v(t._s(t.second))]),i("v-uni-text",{staticClass:"p-0-10",style:"color:"+t.color})]:t._e(),"text"===t.config.type?[t._v(t._s(t.title)+t._s(parseInt(24*t.day)+parseInt(t.hour))+":"+t._s(t.minute)+":"+t._s(t.second))]:t._e()],2)},r=[]},"8eb4":function(t,a,i){"use strict";var n;i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return r})),i.d(a,"a",(function(){return n}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"bargain-container"},[i("v-uni-view",{staticClass:"top-box"},[i("v-uni-view",{staticClass:"inner-tab"},[i("v-uni-scroll-view",{staticClass:"scroll-X",attrs:{"scroll-X":"true","show-scrollbar":"false"}},[i("v-uni-view",{staticClass:"tab-list"},t._l(t.categorys,(function(a,n){return i("v-uni-view",{key:n,class:t.bargain_activity_id==a.bargain_activity_id?"item active":"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabTypeFunc(n,a.bargain_activity_id)}}},[t._v(t._s(a.title))])})),1)],1)],1),t.listData.detail?i("v-uni-view",{staticClass:"banner-image d-c-c"},[i("v-uni-image",{attrs:{src:t.listData.detail.file_path,mode:"widthFix"}})],1):t._e(),t.listData.detail?i("v-uni-view",{staticClass:"ad-datetime p-30-0 d-c-c pb0"},[i("Countdown",{ref:"countdown",attrs:{config:t.countdownConfig},on:{returnVal:function(a){arguments[0]=a=t.$handleEvent(a),t.returnValFunc.apply(void 0,arguments)}}})],1):t._e()],1),t.loading?t._e():i("v-uni-view",{staticClass:"bargain-list"},[i("v-uni-scroll-view",{staticClass:"scroll-Y",style:"height:"+t.scrollviewHigh+"px;",attrs:{"scroll-y":"true","lower-threshold":"50"}},[i("v-uni-view",{staticClass:"list d-s-c f-w"},t._l(t.listData.list,(function(a,n){return i("v-uni-view",{key:n,staticClass:"item d-s-s d-stretch"},[i("v-uni-view",{staticClass:"product-cover pr"},[i("v-uni-image",{attrs:{src:a.product.file_path,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"product-info d-b-c d-c"},[i("v-uni-view",{staticClass:"product-title text-ellipsis-2 f26 gray3"},[t._v(t._s(a.product.product_name))]),i("v-uni-view",{staticClass:"people-num price"},[i("v-uni-text",{staticClass:"f24"},[t._v("￥")]),i("v-uni-text",{staticClass:"f36 fb"},[t._v(t._s(a.bargain_price))]),i("v-uni-text",{staticClass:"ml10 text-d-line gray9 f24"},[t._v("￥"+t._s(a.product_price))])],1),i("v-uni-view",{staticClass:"d-b-c ww100"},[i("v-uni-view",{staticClass:"f24"}),i("v-uni-view",{staticClass:"right-btn"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gotoDetail(a)}}},[t._v("去砍价")])],1)],1)],1)],1)})),1)],1)],1)],1)},r=[]},9697:function(t,a,i){"use strict";i.r(a);var n=i("eb23"),e=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(a,t,(function(){return n[t]}))}(r);a["default"]=e.a},ac52:function(t,a,i){var n=i("ff55");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("714e1b1d",n,!0,{sourceMap:!1,shadowMode:!1})},eb23:function(t,a,i){"use strict";var n=i("4ea4");i("ac1f"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n(i("2683")),r={components:{Countdown:e.default},data:function(){return{phoneHeight:0,scrollviewHigh:0,categorys:[],bargain_activity_id:0,listData:[],countdownConfig:{startstamp:0,endstamp:0},loading:!0}},computed:{},onLoad:function(t){},onShow:function(){this.getCategory()},mounted:function(){this.init()},onReachBottom:function(){},methods:{init:function(){var t=this;uni.getSystemInfo({success:function(a){t.phoneHeight=a.windowHeight;var i=uni.createSelectorQuery().select(".top-box");i.boundingClientRect((function(a){var i=t.phoneHeight-a.height;t.scrollviewHigh=i})).exec()}})},tabTypeFunc:function(t,a){this.type_active=t,this.bargain_activity_id=a,this.productList=[],this.getProdct()},getCategory:function(){var t=this,a={};t.type_active;t._get("plus.bargain.product/active",{param:a},(function(a){t.categorys=a.data.list,t.bargain_activity_id=t.categorys[0].bargain_activity_id,t.getProdct()}))},getProdct:function(){var t=this;uni.showLoading({title:"加载中"});var a=t.bargain_activity_id;t.loading=!0,t._get("plus.bargain.product/product",{bargain_activity_id:a},(function(a){t.listData=a.data,t.countdownConfig.endstamp=a.data.detail.end_time,t.countdownConfig.startstamp=a.data.detail.start_time,uni.hideLoading(),t.loading=!1}))},gotoDetail:function(t){this.$refs.countdown.clear();var a="pages/plus/bargain/detail/detail?bargain_product_id="+t.bargain_product_id;this.gotoPage(a)},gotoSearch:function(){this.page=1,this.getData()},returnValFunc:function(t){console.log(t)}}};a.default=r},ff55:function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,".countdown .box[data-v-55e69141]{display:inline-block;padding:%?4?%;\n\t/* width: 34rpx; */border-radius:%?8?%;background:#000;text-align:center;color:#fff}",""]),t.exports=a}}]);